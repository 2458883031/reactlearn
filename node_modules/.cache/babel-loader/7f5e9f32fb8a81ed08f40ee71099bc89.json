{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\my-app\\\\src\\\\components\\\\dalendar.jsx\";\nimport React from 'react';\n\nclass YearSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(props);\n    this.state = {\n      currentYear: new Date().getFullYear()\n    };\n    this.yearList = Array(20);\n    this.setYearList(this.state.currentYear);\n    this.handleSelectChange = this.handleSelectChange.bind(this);\n  }\n\n  setYearList(currentYear) {\n    for (let j = 0; j < 20; j++) {\n      this.yearList[j] = currentYear - 10 + j;\n    }\n\n    console.log(this.yearList);\n  }\n\n  handleSelectChange(event) {\n    this.setState({\n      currentYear: event.target.value\n    });\n    this.setYearList(event.target.value);\n  }\n\n  render() {\n    let optionItems = this.yearList.map((v, i) => {\n      return /*#__PURE__*/React.createElement(OptionItem, {\n        value: v,\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 20\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"yearBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.currentYear,\n      onChange: this.handleSelectChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }\n    }, optionItems));\n  }\n\n}\n\nconst OptionItem = function (props) {\n  return /*#__PURE__*/React.createElement(\"option\", Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 12\n    }\n  }), props.value);\n};\n\nclass MonthSelect extends React.Component {\n  render() {\n    let monthName = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    return React.createElement('div', {\n      className: 'monthBox'\n    }, monthName.map((v, i) => {\n      return /*#__PURE__*/React.createElement(Tab, {\n        text: v,\n        key: i,\n        className: \"month\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 24\n        }\n      });\n    }));\n  }\n\n}\n\nclass WeekTab extends React.Component {\n  render() {\n    let weekName = ['Sun', 'Mon', 'Tues', 'Wed', 'Thurs', 'Fri', 'Sat'];\n    return React.createElement('div', {\n      className: 'weekBox'\n    }, weekName.map((v, i) => {\n      return /*#__PURE__*/React.createElement(Tab, {\n        text: v,\n        key: i,\n        className: \"week\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 24\n        }\n      });\n    }));\n  }\n\n}\n\nconst Tab = function (props) {\n  return /*#__PURE__*/React.createElement(\"span\", Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 12\n    }\n  }), props.text);\n};\n\nclass DayItem extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dayItem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Tab, {\n      text: this.props.dateMD,\n      className: \"dateMD\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      text: this.props.Weekday,\n      className: \"Weekday\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      text: this.props.workSate,\n      className: \"workSate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(ToDoList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nclass ToDoList extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, \"ToDo1\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, \"ToDo2\"));\n  }\n\n}\n\nclass DayBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.dayList = props.dayList;\n  }\n\n  render() {\n    let dayListEle = this.dayList.map((v, i) => {\n      return /*#__PURE__*/React.createElement(DayItem, {\n        dateMD: v,\n        Weekday: (i % 7 === 0 ^ (i + 1) % 7) === 0 ? \"休息\" : \"工作\",\n        workSate: \"\\u6D51\\u6D51\\u5669\\u5669\",\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 20\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dayBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 16\n      }\n    }, dayListEle);\n  }\n\n}\n\nclass Dalendar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      year: new Date().getFullYear(),\n      month: new Date().getMonth() + 1,\n      week: new Date().getDay(),\n      day: new Date().getDate(),\n      dalendarData: Array(35)\n    };\n    this.getDays();\n  }\n\n  getDays() {\n    let isLeapYear = this.state.currentYear % 4 !== 0 && this.state.currentYear % 100 !== 0 ? true : false;\n    let solarMonth = [1, 3, 5, 7, 8, 10, 12];\n    let lunarMonth = [4, 6, 9, 11];\n    let dateStr = `${new Date().getFullYear()}/${new Date().getMonth() + 1}/1`;\n    let firstIndex = new Date(dateStr).getDay();\n\n    let getDayslist = dayCount => {\n      let dayIdx = 0,\n          endIdx = 0;\n\n      for (let i = 0; i < this.state.dalendarData.length; i++) {\n        this.state.dalendarData[i] = 0;\n\n        if (i >= firstIndex && dayIdx < dayCount) {\n          dayIdx++;\n          this.state.dalendarData[i] = dayIdx;\n        } else if (dayIdx >= dayCount) {\n          endIdx++;\n          this.state.dalendarData[i] = endIdx;\n        } else {\n          if (solarMonth.indexOf(this.state.month - 1) >= 0) {\n            this.state.dalendarData[i] = 31 - (firstIndex - i - 1);\n          } else if (lunarMonth.indexOf(this.state.month - 1) >= 0) {\n            this.state.dalendarData[i] = 30 - (firstIndex - i - 1);\n          } else {\n            if (isLeapYear) {\n              this.state.dalendarData[i] = 29 - (firstIndex - i - 1);\n            } else {\n              this.state.dalendarData[i] = 28 - (firstIndex - i - 1);\n            }\n          }\n        }\n      }\n    };\n\n    if (solarMonth.indexOf(this.state.month) >= 0) {\n      getDayslist(31);\n    } else if (lunarMonth.indexOf(this.state.month) >= 0) {\n      getDayslist(30);\n    } else {\n      if (isLeapYear) {\n        getDayslist(29);\n      } else {\n        getDayslist(28);\n      }\n    }\n  }\n\n  render() {\n    console.log(this);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-1 d-flex flex-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(YearSelect, {\n      yyy: \"dddd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(MonthSelect, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-11 d-flex flex-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(WeekTab, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(DayBox, {\n      dayList: this.state.dalendarData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    })));\n  }\n\n}\n/* <DayItem dateMD=\"09-18\" workSate=\"今天\" Weekday=\"工作日\"/> */\n\n\nexport default Dalendar;","map":{"version":3,"sources":["D:/react/my-app/src/components/dalendar.jsx"],"names":["React","YearSelect","Component","constructor","props","console","log","state","currentYear","Date","getFullYear","yearList","Array","setYearList","handleSelectChange","bind","j","event","setState","target","value","render","optionItems","map","v","i","OptionItem","MonthSelect","monthName","createElement","className","WeekTab","weekName","Tab","text","DayItem","dateMD","Weekday","workSate","ToDoList","DayBox","dayList","dayListEle","Dalendar","year","month","getMonth","week","getDay","day","getDate","dalendarData","getDays","isLeapYear","solarMonth","lunarMonth","dateStr","firstIndex","getDayslist","dayCount","dayIdx","endIdx","length","indexOf"],"mappings":"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","sourcesContent":["import React from 'react'\r\nclass YearSelect extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        console.log(props)\r\n        this.state={\r\n            currentYear: new Date().getFullYear()\r\n        }\r\n        this.yearList=Array(20)\r\n        this.setYearList(this.state.currentYear)\r\n        this.handleSelectChange = this.handleSelectChange.bind(this)\r\n    }\r\n    setYearList(currentYear){\r\n        for (let j=0;j<20;j++) {\r\n            this.yearList[j] = currentYear - 10 + j\r\n        }\r\n        console.log(this.yearList)\r\n    }\r\n    handleSelectChange(event){\r\n        this.setState({currentYear:event.target.value})\r\n        this.setYearList(event.target.value)\r\n    }\r\n    render(){\r\n        let optionItems = this.yearList.map((v,i)=>{\r\n            return <OptionItem value={v} key={i}/>     \r\n        })\r\n        return <form className=\"yearBox\">\r\n            <select value={this.state.currentYear} onChange={this.handleSelectChange}>\r\n                {optionItems}\r\n            </select>\r\n        </form>\r\n    }\r\n}\r\nconst OptionItem = function(props){\r\n    return <option {...props}>{props.value}</option>\r\n}\r\nclass MonthSelect extends React.Component{\r\n    render(){\r\n        let monthName = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\r\n        return React.createElement('div',\r\n            {className:'monthBox'},\r\n            monthName.map((v,i)=>{\r\n                return <Tab text={v} key={i} className='month'/>\r\n            })\r\n        )\r\n    }\r\n}\r\nclass WeekTab extends React.Component{\r\n    render(){\r\n        let weekName = ['Sun','Mon','Tues','Wed','Thurs','Fri','Sat'];\r\n        return React.createElement('div',\r\n            {className:'weekBox'},\r\n            weekName.map((v,i)=>{\r\n                return <Tab text={v} key={i} className='week'/>\r\n            })\r\n        )\r\n    }\r\n}\r\nconst Tab = function(props){\r\n    return <span {...props}>{props.text}</span>\r\n}\r\nclass DayItem extends React.Component{\r\n    render(){\r\n        return  <div className=\"dayItem\">\r\n            <Tab text={this.props.dateMD} className='dateMD'/>\r\n            <Tab text={this.props.Weekday} className='Weekday'/>\r\n            <Tab text={this.props.workSate} className='workSate'/>\r\n            <ToDoList/>\r\n        </div>\r\n    }\r\n}\r\nclass ToDoList extends React.Component{\r\n    render(){\r\n        return <ul>\r\n            <li>ToDo1</li>\r\n            <li>ToDo2</li>\r\n        </ul>\r\n    }\r\n}\r\nclass DayBox extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.dayList = props.dayList\r\n    }\r\n    render(){\r\n        let dayListEle = this.dayList.map((v,i)=>{\r\n            return <DayItem dateMD={v} Weekday={((i % 7 === 0 ^ (i+1) % 7) === 0) ? \"休息\":\"工作\"} workSate=\"浑浑噩噩\" key={i}/>\r\n        })\r\n        return <div className=\"dayBox\">\r\n            {dayListEle}\r\n        </div>\r\n        \r\n    }\r\n}\r\nclass Dalendar extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        \r\n        this.state = {\r\n            year:(new Date()).getFullYear(),\r\n            month:(new Date()).getMonth() + 1,\r\n            week:(new Date()).getDay(),\r\n            day:(new Date()).getDate(),\r\n            dalendarData:Array(35)\r\n        }\r\n        \r\n        this.getDays()\r\n    }\r\n\r\n    getDays(){\r\n        let isLeapYear = (this.state.currentYear % 4 !== 0 && this.state.currentYear % 100 !== 0) ? true : false\r\n        let solarMonth = [1,3,5,7,8,10,12];\r\n        let lunarMonth = [4,6,9,11];\r\n        let dateStr = `${(new Date()).getFullYear()}/${(new Date()).getMonth() + 1}/1`\r\n        let firstIndex = (new Date(dateStr)).getDay()\r\n        \r\n        let getDayslist = (dayCount)=>{\r\n            let dayIdx = 0,endIdx=0;\r\n            for (let i = 0; i < this.state.dalendarData.length; i++) {\r\n                this.state.dalendarData[i] = 0;\r\n                if (i>=firstIndex && dayIdx<dayCount) {                    \r\n                    dayIdx++\r\n                    this.state.dalendarData[i] = dayIdx;\r\n                }else if (dayIdx>=dayCount) {\r\n                    endIdx++\r\n                    this.state.dalendarData[i] = endIdx;\r\n                }else{\r\n                    if (solarMonth.indexOf(this.state.month-1)>=0) {\r\n                        this.state.dalendarData[i] = 31 - (firstIndex - i - 1)\r\n                    }else if (lunarMonth.indexOf(this.state.month-1)>=0) {\r\n                        this.state.dalendarData[i] = 30 - (firstIndex - i - 1)\r\n                    }else{\r\n                        if (isLeapYear) {\r\n                            this.state.dalendarData[i] = 29 - (firstIndex - i - 1)\r\n                        }else{\r\n                            this.state.dalendarData[i] = 28 - (firstIndex - i - 1)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (solarMonth.indexOf(this.state.month)>=0) {\r\n            getDayslist(31)\r\n        }else if (lunarMonth.indexOf(this.state.month)>=0) {\r\n            getDayslist(30)\r\n        }else{\r\n            if (isLeapYear) {\r\n                getDayslist(29)\r\n            }else{\r\n                getDayslist(28)\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n        console.log(this)\r\n        return <div className=\"row\">\r\n            <div className=\"col-md-1 d-flex flex-wrap\">\r\n                <YearSelect yyy=\"dddd\"/>\r\n                <MonthSelect/>\r\n            </div>\r\n            <div className=\"col-md-11 d-flex flex-wrap\">\r\n                <WeekTab/>\r\n                <DayBox dayList={this.state.dalendarData}/>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n/* <DayItem dateMD=\"09-18\" workSate=\"今天\" Weekday=\"工作日\"/> */\r\nexport default Dalendar"]},"metadata":{},"sourceType":"module"}